
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="882f9e1c-f661-5b1f-adde-6310355c1a0c")}catch(e){}}();
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5046],{40137:function(e,t,r){"use strict";var n=r(85893),i=r(45697),a=r.n(i),o=r(91768),s=r(94184),u=r.n(s),c=r(59387),l=r(67525);r(20540);function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){d(e,t,r[t])}))}return e}({},l.Z,{mini:a().bool}),h=function(e){var t=e.t,r=e.mini;return(0,n.jsxs)("span",{className:u()("dish-card__tag",{"dish-card__tag--mini":r}),children:[(0,n.jsx)(c.JO,{name:"tag"}),(0,n.jsx)("span",{className:"dish-card__tag-description",children:t("delivery-free-tag")})]})};h.propTypes=f,h.defaultProps={mini:!1},t.Z=(0,o.Z)(["restaurants"])(h)},1356:function(e,t,r){"use strict";r.r(t),r.d(t,{RestaurantContainer:function(){return gt},default:function(){return bt}});var n=r(85893),i=r(67294),a=r(45697),o=r.n(a),s=r(11163),u=r(91768),c=r(14416),l=r(14890),d=r(94184),f=r.n(d),h=r(27361),p=r.n(h),m=r(23279),v=r.n(m),g=r(74559),b=r(64836),y=r(58439),j=r(26793),P=r(85518),O=r(12751),w=r(84340),x=r(60501),_=r(40643),S=r(50846),T=r(91908),k=r(30548),R=r(5728),C=r(41799),E=r(61539),N=r(28511),q=r(42383),H=r(94774),D=r(75886),Z=r(99812),I=r(59387),M=r(56215),F=r(75463),B=r(67525),L=r(52668),U=r(38890),A=r(18967),z=r(50013),G=r(36750),Y=r(85684),V=r(67926),W=r(45291),J=r(72612),$=r(36466),X=r(73057),Q=r(40137),K=r(35432),ee=r.n(K),te=r(61463),re=r(8071),ne=r(42793),ie=r(82462);r(55457);function ae(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){ae(e,t,r[t])}))}return e}function se(e,t){return t>e}var ue=oe({},B.Z,{dish:o().shape({code:o().string.isRequired,description:o().string.isRequired,details:o().string,logoUrl:o().string,unitMinPrice:o().number,unitOriginalPrice:o().number,unitPrice:o().number,promotionalPrice:o().number,minimumPromotionalPrice:o().number}),isPromotion:o().bool.isRequired}),ce=function(e){var t=e.dish,r=e.isPromotion,i=e.t,a=(0,ne.U)(oe({},t,{isPromotion:r})),o=a.price,s=a.minPrice,u=a.originalPrice,c=a.isUnitMinPriceDifferent;return(0,n.jsxs)("span",{className:"dish-card__price","data-test-id":"dish-card-price",children:[s&&u?s>u?(0,n.jsxs)("span",{className:"dish-card__price--min",children:[se(o,s)&&"".concat(i("dish.price-starting-at")),(0,ie.xG)(s)]}):(0,n.jsx)("span",{className:"dish-card__price--discount",children:se(o,s)?"".concat(i("dish.price-starting-at")," ").concat((0,ie.xG)(s)):(0,n.jsxs)(n.Fragment,{children:[(0,ie.xG)(o),(0,n.jsx)("span",{className:"dish-card__price--original",children:(0,ie.xG)(u)})]})}):null,!s&&u?function(e,t){return e<t}(o,u)?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"dish-card__price--discount",children:(0,ie.xG)(o)}),(0,n.jsx)("span",{className:"dish-card__price--original",children:(0,ie.xG)(u)})]}):(0,ie.xG)(o):null,s&&!u?o||c?se(o,s)?"".concat(i("dish.price-starting-at")," ").concat((0,ie.xG)(s)):(0,ie.xG)(o):(0,ie.xG)(s):null,s||u?null:(0,ie.xG)(o)]})};ce.propTypes=ue,ce.defaultProps={dish:{unitPrice:null,details:"",logoUrl:"",unitMinPrice:null,unitOriginalPrice:null,promotionalPrice:null,minimumPromotionalPrice:null}};var le=(0,u.Z)(["restaurant"])(ce),de=r(99987),fe=r(89854);r(85451);function he(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var pe=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){he(e,t,r[t])}))}return e}({},B.Z,{restaurant:o().shape({deliveryEstimated:o().object,deliveryFee:o().number})}),me={restaurant:{deliveryEstimated:void 0,deliveryFee:void 0}},ve=function(e){var t=e.restaurant,r=e.t;if(null==t.deliveryFee)return null;var i=t.deliveryFee>0?"".concat(r("delivery.title")," ").concat((0,ie.xG)(t.deliveryFee)):"".concat(r("delivery.free")),a=(0,fe.$V)(null===t||void 0===t?void 0:t.tags,C.AE);return(0,n.jsxs)("div",{className:"dish-card-delivery",children:[(0,n.jsxs)("div",{className:"dish-card-delivery__top",children:[t.deliveryEstimated&&(0,n.jsx)("span",{className:"dish-card-delivery__time",children:"".concat(r("delivery.time",t.deliveryEstimated)," \u2022 ")}),(0,n.jsx)("span",{className:f()("dish-card-delivery__fee",{"dish-card-delivery__free-delivery":0===t.deliveryFee}),children:"".concat(i)})]}),(0,n.jsx)("div",{className:"dish-card-delivery__bottom",children:(0,n.jsx)(de.Z,{evaluationAverage:t.evaluationAverage,isLink:!1,secondaryColors:!0,recent:a})})]})};ve.propTypes=pe,ve.defaultProps=me;var ge=(0,u.Z)(["restaurant"])(ve),be=r(37295),ye=r(38152);r(71295);function je(e){var t=e.tags,r=e.isHorizontal;return(0,n.jsx)("div",{className:f()("dish-tags",{"dish-tags--horizontal":r}),children:(0,n.jsx)(ye.Z,{tags:t})})}function Pe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Pe(e,t,r[t])}))}return e}var we={dish:o().shape({tags:o().array,code:o().string.isRequired,description:o().string.isRequired,details:o().string,logoUrl:o().string,unitMinPrice:o().number,unitOriginalPrice:o().number,unitPrice:o().number,promotionalPrice:o().number,minimumPromotionalPrice:o().number,productTags:o().array,productInfo:o().object}),isPromotion:o().bool.isRequired,restaurant:o().shape({uuid:o().string,name:o().string,closed:o().bool,deliveryTime:o().number,siteUrl:o().string,deliveryEstimated:o().object,deliveryFee:o().number}).isRequired,displayTag:o().bool,showDetails:o().bool,isHorizontal:o().bool,hasDishDiscountTag:o().bool,dishDiscountTagData:o().object},xe=function(e){var t=e.dish,r=e.restaurant,i=e.showDetails,a=e.isPromotion,o=e.displayTag,s=e.isHorizontal,u=e.hasDishDiscountTag,c=e.dishDiscountTagData,l=(0,re.Z)(t.productTags).hasTags;return(0,n.jsxs)("div",{className:f()("dish-card__info",{"dish-card__info--horizontal":s}),children:[(0,n.jsxs)("div",{className:"dish-card__info-top",children:[(0,n.jsx)(ee(),{clamp:2,useNativeClamp:!0,tagName:"h3",className:"dish-card__description",children:t.description}),i&&(0,n.jsx)(ee(),{clamp:2,useNativeClamp:!0,tagName:"span",className:"dish-card__details",children:t.details}),(0,n.jsx)(be.Z,{productTags:t.productTags,productInfo:t.productInfo}),!u&&o&&(0,w.eg)(t.tags)&&(0,n.jsx)(Q.Z,{}),u&&(0,n.jsx)(te.Z,Oe({},c)),l&&(0,n.jsx)(je,{tags:t.productTags,isHorizontal:s})]}),(0,n.jsx)(le,{dish:t,isPromotion:a}),!s&&(0,n.jsx)(ge,{restaurant:r})]})};xe.propTypes=we,xe.defaultProps={dish:{tags:[],unitPrice:null,details:"",logoUrl:"",unitMinPrice:null,unitOriginalPrice:null,promotionalPrice:null,minimumPromotionalPrice:null,productTags:[],productInfo:{}},displayTag:!0,showDetails:!0,isHorizontal:!1,hasDishDiscountTag:!1,dishDiscountTagData:null};var _e=xe;r(38054);function Se(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Te={url:o().string,alt:o().string,orientation:o().string,dishImageColor:o().string},ke={url:void 0,alt:void 0,orientation:void 0,dishImageColor:"blue"},Re=function(e){var t,r=e.url,i=e.alt,a=e.orientation,o=e.dishImageColor;return r||"vertical"===a?(0,n.jsx)(I.Ee,{className:f()("dish-card__image",(t={},Se(t,"dish-card__image--".concat(o),!r),Se(t,"dish-card__image--contained-image","vertical"!==a),t)),src:r&&(0,A.QW)(L.el.DISH,r,L.zf.LOW),fallback:(0,A.QW)(L.el.WEBAPP_DISHES,"dish-image-placeholder.png",L.zf.HIGHT),fallbackClassName:f()("dish-card__image-placeholder",Se({},"dish-card__image--".concat(o),!0)),alt:i,lazy:!0}):null};Re.propTypes=Te,Re.defaultProps=ke;var Ce=Re;r(1893);function Ee(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ne={setDishState:z.yC,fetchTakeXPayYRequest:W.aR},qe=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Ee(e,t,r[t])}))}return e}({},B.Z,{actions:(0,G.Z)(Object.keys(Ne),o().func.isRequired).isRequired,orientation:o().oneOf(["vertical","horizontal"]),dishImageColor:o().oneOf(["blue","red","green"]),dish:o().shape({tags:o().array,code:o().string.isRequired,description:o().string.isRequired,details:o().string,logoUrl:o().string,unitMinPrice:o().number,unitOriginalPrice:o().number,unitPrice:o().number,promotionalPrice:o().number,minimumPromotionalPrice:o().number}),isPromotion:o().bool.isRequired,restaurant:o().shape({uuid:o().string,name:o().string,closed:o().bool,deliveryTime:o().number,siteUrl:o().string,deliveryEstimated:o().object,deliveryFee:o().number,logoUrl:o().any}).isRequired,onClick:o().func,displayTag:o().bool,showDetails:o().bool,isSoldOut:o().bool,variant:o().string,hideLogo:o().bool,menuCode:o().string,availableForScheduling:o().bool.isRequired}),He={orientation:"horizontal",dishImageColor:"blue",dish:{tags:[],unitPrice:null,details:"",logoUrl:"",unitMinPrice:null,unitOriginalPrice:null,promotionalPrice:null,minimumPromotionalPrice:null},onClick:function(){},displayTag:!0,variant:void 0,showDetails:!0,isSoldOut:!1,hideLogo:!1,menuCode:""},De=function(e){var t,r=e.t,a=e.orientation,o=e.dish,s=e.restaurant,u=e.isPromotion,l=e.dishImageColor,d=e.actions,h=e.onClick,p=e.displayTag,m=e.showDetails,v=e.variant,g=e.isSoldOut,b=e.hideLogo,y=e.menuCode,j=e.availableForScheduling,P=(0,w.W8)({dish:o,restaurant:s}),O=(0,$.p2)(s),x=(0,c.v9)(X.Gp),_=(0,i.useMemo)((function(){return(0,w.Yk)(null!==(t=null===o||void 0===o?void 0:o.tags)&&void 0!==t?t:[],x)}),[null===o||void 0===o?void 0:o.tags,x]),S=Boolean(_),T="horizontal"===a,k=!T&&s.logoUrl&&!b,R=(0,i.useState)(!1),C=R[0],E=R[1],N=!S&&!T&&p&&(0,w.eg)(o.tags);(0,i.useEffect)((function(){var e=setTimeout((function(){E(!0)}),300);return function(){return clearTimeout(e)}}),[]),(0,i.useEffect)((function(){(null===x||void 0===x?void 0:x.requestStatus)===J._X&&d.fetchTakeXPayYRequest()}),[d,null===x||void 0===x?void 0:x.requestStatus]);var q,H=function(){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(_e,{dish:o,restaurant:s,showDetails:m,isPromotion:u,displayTag:p,isHorizontal:T,hasDishDiscountTag:S,dishDiscountTagData:_}),(o.logoUrl||!T)&&(0,n.jsxs)("div",{className:"dish-card__container-image",children:[g&&(0,n.jsx)("div",{className:"dish-card__sold-out","data-test-id":"dish-card-sold-out",children:(0,n.jsx)("span",{children:r("dishes:sold-out")})}),C&&(0,n.jsx)(Ce,{url:o.logoUrl,alt:o.description,orientation:a,dishImageColor:l,isSoldOut:!0})]}),!T&&O&&!j&&(0,n.jsx)("span",{className:"dish-card__closed-overlay",children:r("closed")}),k&&(0,n.jsx)(I.Ee,{className:"dish-card__restaurant-logo",src:(0,A.QW)(L.el.RESTAURANT_LOGO,s.logoUrl,L.zf.THUMBNAIL),alt:s.name}),N&&(0,n.jsx)(Q.Z,{mini:!0})]})},D=f()("dish-card",(Ee(q={},"dish-card--".concat(a),a),Ee(q,"dish-card--has-image",o.logoUrl),Ee(q,"dish-card--sold-out",g),Ee(q,"".concat(v),v),q));return g?(0,n.jsx)("div",{className:D,children:H()}):(0,n.jsx)("div",{className:"dish-card-wrapper",children:(0,n.jsx)(F.Link,{route:U.ROUTE_RESTAURANT_HOME,params:P,children:(0,n.jsx)("a",{className:D,onClick:function(e){var t;e.preventDefault();var r,n=P.citySlug,i=P.slug;h(),d.setDishState({isOpen:!0,restaurantSlug:{citySlug:n,slug:i,uuid:s.uuid},dishId:o.code,menuCode:y,category:null!==(r=null===s||void 0===s?void 0:s.category)&&void 0!==r?r:null===s||void 0===s||null===(t=s.mainFoodType)||void 0===t?void 0:t.description,pushRoute:!0})},"data-test-id":"dish-card-test-id",children:H()})})})};De.propTypes=qe,De.defaultProps=He;var Ze=(0,i.memo)((0,V.Z)(De,[(0,c.$j)((function(e,t){return{isPromotion:(0,Y.XJ)(e,t.restaurant.uuid),availableForScheduling:e.restaurant.deliveryInfo.availableForScheduling}}),(function(e){return{actions:(0,l.DE)(Ne,e)}})),(0,u.Z)(["restaurants","dishes","restaurant"])]),(function(e,t){return e.restaurant.uuid===t.restaurant.uuid})),Ie=(r(86256),{code:o().string.isRequired,name:o().string.isRequired,items:o().array.isRequired,isPromotion:o().bool,restaurant:o().shape({uuid:o().string,name:o().string,tags:o().arrayOf(o().string),address:o().shape({location:o().shape({city:o().string,district:o().string,state:o().string})})}).isRequired,isLoading:o().bool,"data-test-id":o().string}),Me={isPromotion:!1,isLoading:!1,"data-test-id":void 0},Fe=function(e){var t=e.code,r=e.name,i=e.items,a=e.isPromotion,o=e.restaurant,s=e.isLoading,u=e["data-test-id"];return(0,n.jsxs)("div",{className:"restaurant-menu-group","data-test-id":u,children:[(0,n.jsx)("h2",{tabIndex:"0",className:"restaurant-menu-group__title",id:(0,M.Z)(t),children:r}),s?(0,n.jsx)("div",{className:"restaurant-menu-group__loading",children:(0,n.jsx)(I.$j,{center:!0})}):(0,n.jsx)("ul",{className:"restaurant-menu-group__container",children:i.map((function(e){return(0,n.jsx)("li",{tabIndex:"-1","data-test-id":"restaurant-menu-group-item",children:(0,n.jsx)(Ze,{isPromotion:a,restaurant:o,dish:e,dishImageColor:(0,w.Pl)(),menuCode:t})},"".concat(t,"-").concat(e.code))}))})]})};Fe.propTypes=Ie,Fe.defaultProps=Me;var Be=Fe,Le=r(40507),Ue=r(32765);r(57543);function Ae(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ze=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Ae(e,t,r[t])}))}return e}({},B.Z,{items:o().array.isRequired,isServer:o().bool,restaurant:o().shape({uuid:o().string.isRequired,name:o().string.isRequired,address:o().shape({location:o().shape({city:o().string.isRequired,district:o().string.isRequired,state:o().string.isRequired}).isRequired}).isRequired}).isRequired,"data-test-id":o().string}),Ge={isServer:!1,"data-test-id":void 0},Ye=function(e){var t=e.items,r=e.t,i=e.restaurant,a=e.isServer,o=e["data-test-id"];return(0,n.jsx)("div",{className:"restaurant-promotions","data-test-id":o,children:(0,n.jsxs)("div",{className:"restaurant-menu-group",children:[!a&&(0,n.jsx)("h2",{tabIndex:"0",className:"restaurant-menu-group__title",id:(0,M.Z)("promo"),children:r("menu-highlights")}),(0,n.jsx)(Ue.Z,{children:t.map((function(e){return(0,n.jsx)(Ue.q,{className:"restaurant-promotions__dish-card",children:(0,n.jsx)(Ze,{restaurant:i,dish:e,orientation:"vertical",onClick:function(){return Le.Z.clickPromotionalItem({hasPhoto:Boolean(e.logoUrl)})},dishImageColor:(0,w.Pl)()})},"restaurant-promotions-".concat(e.code))}))})]})})};Ye.propTypes=ze,Ye.defaultProps=Ge;var Ve=(0,V.Z)(Ye,[(0,u.Z)("restaurant")]);r(22129);function We(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Je(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){We(e,t,r[t])}))}return e}function $e(e){var t=e.menu,r=e.allMenu,a=e.handleSearch,o=e.urlParams,s=e.isPromotion,u=e.isHighlightVisible,l=e.displaySearch,d=e.reorderItems,h=e.address,p=(0,j.$)("restaurant").t,m=(0,c.v9)(q.sZ),v=(0,c.v9)(q.HT),g=(0,c.v9)(q.eE),b=(0,c.v9)(q.fE),I=(0,c.v9)(q.j0),M=(0,c.v9)(q.S),F=(0,c.v9)(H.op),B=(0,i.useMemo)((function(){return Je({},b,{deliversAtLocation:I,availableForScheduling:M})}),[b,I,M]),L=(0,c.I0)(),U=(0,i.useState)(0),A=U[0],z=U[1];(0,i.useEffect)((function(){var e,t=function(){return z(null!==(e=null===window||void 0===window?void 0:window.innerWidth)&&void 0!==e?e:0)};return t(),null===window||void 0===window||window.addEventListener("resize",t),function(){return null===window||void 0===window?void 0:window.removeEventListener("resize",t)}}),[]);var G=A<960?60:-5,Y=(0,w.pT)((0,w.cA)(t)).slice(0,4),V=(0,i.useState)(!1),W=V[0],J=V[1],$=(0,i.useState)(""),X=$[0],Q=$[1];(0,i.useEffect)((function(){W&&L((0,k.aR)())}),[L,W]),(0,i.useEffect)((function(){var e,t,r=(null!==(e=null===B||void 0===B?void 0:B.configs)&&void 0!==e?e:{}).maxItemsPerOrder,n=null!==(t=null===F||void 0===F?void 0:F.items)&&void 0!==t?t:{};Object.keys(n).reduce((function(e,t){var r,i;return e+(null!==(i=null===(r=n[t])||void 0===r?void 0:r.qty)&&void 0!==i?i:0)}),0)>=parseInt(r,10)&&L((0,N.PJ)({message:p("dish.too-many-items",{maxItemsPerOrder:r})}))}),[F,null===F||void 0===F?void 0:F.items,null===B||void 0===B?void 0:B.configs,L,p]);var K=(0,i.useMemo)((function(){return(0,w.IZ)(B)}),[B]),ee=Boolean(d.length),te=(0,i.useCallback)((function(e){var t;Q(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value),a(e)}),[a]),re=(0,i.useState)(),ne=re[0],ie=re[1],ae=(0,E.Z)({"desktop-s":80},0),oe=I||M;return(0,n.jsx)("div",{className:f()("restaurant-menu",{"restaurant-menu--hidden-search":!W&&!l}),children:(0,n.jsxs)(y.L9,{className:"restaurant__fast-menu",children:[(0,n.jsx)(y.Le,{topOffset:-G,disableHardwareAcceleration:!0,children:function(e){var t=e.style,r=e.isSticky;return(0,n.jsxs)("div",{style:Je({},t,{top:ae+t.top+G||0}),className:f()("restaurant-menu__header",{"restaurant-menu__header--sticky":r}),children:[(0,n.jsxs)("div",{className:"restaurant-menu__header-wrapper",children:[(0,n.jsx)("div",{className:f()("restaurant-menu__fast-menu",{"restaurant-menu__fast-menu--sticky":r}),children:(0,n.jsx)(x.Z,{})}),(0,n.jsx)("div",{className:f()("restaurant-menu__menu-search",{"restaurant-menu__menu-search--sticky":r}),children:(0,n.jsx)(_.Z,{onChange:te,setVisibility:J})}),oe&&(0,n.jsx)("div",{className:f()("restaurant-menu__scheduling",{"restaurant-menu__scheduling--sticky":r}),children:(0,n.jsx)(T.Z,{})})]}),P.tq&&(0,n.jsx)(R.Z,{accountRestaurantMinOrder:!1,variant:"menu",allowStick:!0,isSticky:r})]})}}),(0,n.jsx)(S.Z,{merchant:B,groups:r.filter((function(e){return e.logoUrl&&e.itens&&e.itens.length})),onOpenGroup:ie}),!m&&!v&&B.id&&Y.length>=2&&u&&(0,n.jsx)(Ve,{"data-test-id":"restaurant-menu-group__promotion",items:Y,urlParams:o,restaurant:(0,w.IZ)(B)}),!m&&!v&&(0,n.jsx)("div",{className:"gpt-ads-bg",children:(0,n.jsx)("div",{className:"catalog-ads",children:(0,n.jsx)(D.default,Je({},Z.xJ.CATALOG,{locationId:"food-delivery"}))})}),!m&&!g&&ee&&(0,n.jsx)(Be,{address:h,index:0,items:d,restaurant:K,name:p("menu-reorder"),code:C.dT,urlParams:o,isPromotion:!1,allItems:d,isOpen:ne===C.dT,setIsOpen:function(e){return e?ie(C.dT):ne===C.dT&&ie(null)}}),(m||!B.id)&&(0,n.jsx)(O.Yk,{}),!m&&B.id&&t.map((function(e,t){if(!e.itens.length)return null;var i=ee?t+1:t,a=r.find((function(t){return t.code===e.code}));return(0,n.jsx)(Be,{address:h,index:i,items:e.itens,restaurant:K,name:e.name,code:e.code,urlParams:o,isPromotion:s,allItems:a.itens,"data-test-id":"menu-group-".concat(B.mainCategory.code),initialSearchTerm:X,isOpen:ne===e.code,setIsOpen:function(t){return t?ie(e.code):ne===e.code&&ie(null)}},"menu-group-".concat(e.name,"-").concat(e.code))}))]})})}$e.propTypes={menu:o().arrayOf(o().shape({code:o().string.isRequired,name:o().string.isRequired,itens:o().array.isRequired,order:o().number.isRequired})).isRequired,allMenu:o().arrayOf(o().shape({code:o().string.isRequired,name:o().string.isRequired,itens:o().array.isRequired,order:o().number.isRequired})).isRequired,reorderItems:o().array.isRequired,handleSearch:o().func,urlParams:o().object.isRequired,isPromotion:o().bool,isHighlightVisible:o().bool,displaySearch:o().bool,address:o().object.isRequired},$e.defaultProps={handleSearch:function(){return null},isPromotion:!1,isHighlightVisible:!0,displaySearch:!1};var Xe=r(72186),Qe=r(69750),Ke=r(27051),et=r(24450),tt=r(85539),rt=r(68894),nt=r(45952),it=r(19286);r(92115);function at(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ot(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function st(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ut(e){return ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ut(e)}function ct(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){st(e,t,r[t])}))}return e}function lt(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function dt(e,t){return!t||"object"!==ht(t)&&"function"!==typeof t?at(e):t}function ft(e,t){return ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ft(e,t)}var ht=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function pt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ut(e);if(t){var i=ut(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return dt(this,r)}}var mt={trackViewRestaurantScreen:Xe.cp,fetchFilteredCatalog:rt.oV,unsetFilteredCatalog:rt.Vl,callbackSearchMenu:Xe.bG},vt=ct({},B.Z,{actions:(0,G.Z)(Object.keys(mt),o().func.isRequired).isRequired,restaurant:o().shape({uuid:o().string.isRequired,errorStatusCode:o().object}).isRequired,isPromotion:o().bool,router:o().object.isRequired,vouchersActive:o().object}),gt=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ft(e,t)}(o,e);var t,r,i,a=pt(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=a.call(this,e)).state={filteredMenu:void 0,displaySearch:!0,transparentHeaderYThreshold:70,shouldHideBanner:!1},t.setfilteredMenu=v()(t.setfilteredMenu.bind(at(t)),100),t.handleSearch=t.handleSearch.bind(at(t)),t.updateTransparentHeaderYThreshold=t.updateTransparentHeaderYThreshold.bind(at(t)),t.updateShouldHideBanner=t.updateShouldHideBanner.bind(at(t)),t.fetchFilteredCatalog=v()(t.fetchFilteredCatalog.bind(at(t)),400),t}return t=o,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.actions,r=e.restaurant,n=e.routerStates,i=e.router.query,a=void 0===i?{}:i,o=e.merchantCategory;o&&Le.Z.viewRestaurantPage(o);var s=a[Object.keys(a).find((function(e){return"utm_medium"===e.toLowerCase()}))];t.trackViewRestaurantScreen({restaurant:r,routerStates:n,originFeature:s}),window.addEventListener("resize",this.updateTransparentHeaderYThreshold),window.addEventListener("scroll",this.updateShouldHideBanner)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.restaurant.uuid!==this.props.restaurant.uuid&&this.setState({filteredMenu:void 0})}},{key:"shouldComponentUpdate",value:function(e,t){var r=e.router.query;return!(!r.citySlug||!r.slug)&&(!(0,c.wU)(this.props,e)||!(0,c.wU)(this.state,t))}},{key:"componentDidUpdate",value:function(e){e.merchantCategory!==this.props.merchantCategory&&Le.Z.viewRestaurantPage(this.props.merchantCategory)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateTransparentHeaderYThreshold),window.removeEventListener("scroll",this.updateShouldHideBanner)}},{key:"handleSearch",value:function(e){var t=p()(e,"target.value","");this.setState({searchValue:t}),this.setfilteredMenu(),window.scrollY>265&&window.scrollBy({top:265-window.scrollY,left:0,behavior:"smooth"})}},{key:"setfilteredMenu",value:function(){Le.Z.searchRestaurantMenu();var e=this.props,t=e.address,r=e.restaurant,n=e.actions,i=this.state.searchValue,a=(0,Qe.NJ)(r.menu,i);n.unsetFilteredCatalog(r.id),this.setState({filteredMenu:a}),(null===i||void 0===i?void 0:i.length)&&n.callbackSearchMenu({address:t,merchant:r,query:i,dishResults:a.length,success:!0,rtype:"ITEM"})}},{key:"fetchFilteredCatalog",value:function(e){var t=this.props,r=t.actions,n=t.address,i=t.restaurant;r.fetchFilteredCatalog({address:n,merchant:i,query:e})}},{key:"updateTransparentHeaderYThreshold",value:function(){window.innerWidth>=768?130!==this.state.transparentHeaderYThreshold&&this.setState({transparentHeaderYThreshold:130}):70!==this.state.transparentHeaderYThreshold&&this.setState({transparentHeaderYThreshold:70})}},{key:"updateShouldHideBanner",value:function(){window.pageYOffset>=this.state.transparentHeaderYThreshold?this.state.shouldHideBanner||this.setState({shouldHideBanner:!0}):this.state.shouldHideBanner&&this.setState({shouldHideBanner:!1})}},{key:"filterMenuByRemoteList",value:function(){var e=this.props.restaurant,t=e.menu,r=e.filteredCatalog;return t.reduce((function(e,t){var n=t.itens,i=lt(t,["itens"]),a=n.filter((function(e){var t=e.id;return r.includes(t)}));return a.length&&e.push(ct({},i,{itens:a})),e}),[])}},{key:"filterReorderItems",value:function(){var e=this.props.restaurant,t=e.reorderItems,r=e.filteredCatalog,n=this.state.searchValue;return(null===r||void 0===r?void 0:r.length)?t.filter((function(e){return r.includes(e.id)})):(0,Qe.b1)(t,n)}},{key:"render",value:function(){var e,t=this,r=this.props,i=r.address,a=r.restaurant,o=r.router.query,s=r.isPromotion,u=r.vouchersActive,c=this.state,l=c.filteredMenu,d=c.displaySearch,h=c.searchValue,p=c.shouldHideBanner,m=c.transparentHeaderYThreshold,v=a.menu,y=a.uuid,j=a.filteredCatalog,P=(null===j||void 0===j?void 0:j.length)?this.filterMenuByRemoteList():l||v,O={citySlug:o.citySlug,slug:o.slug,uuid:y},w=this.filterReorderItems();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(g.Z,{children:(0,n.jsx)(I.zP,{min:"desktop-s",children:u&&u.countVoucher>0&&(0,n.jsx)("div",{className:"voucher-header-restaurant-wrapper",children:(0,n.jsx)(Ke.default,{vouchersActive:u})})})}),(null===(e=a.errorStatusCode)||void 0===e?void 0:e.restaurant)?(0,n.jsx)("div",{className:"restaurant-container__error-message",children:(0,n.jsx)(I.Bc,{})}):(0,n.jsx)("div",{className:"restaurant-container",children:(0,n.jsxs)("div",{className:"restaurant-column",children:[(0,n.jsx)(tt.Z,{className:f()({"restaurant-container__banner--hidden":p})}),(0,n.jsx)(b.Z,{displaySearch:d,setDisplaySearch:function(e){return t.setState({displaySearch:e})},transparentHeaderYThreshold:m}),(0,n.jsx)(nt.Z,{}),(0,n.jsx)($e,{address:i,restaurant:a,menu:P,allMenu:v,isPromotion:s,handleSearch:this.handleSearch,urlParams:O,displaySearch:d||Boolean(h),reorderItems:w},"restaurant-menu-".concat(y)),(0,n.jsx)("div",{className:"gpt-ads-bg",children:(0,n.jsx)("div",{className:"catalog-ads",children:(0,n.jsx)(D.default,ct({},Z.xJ.CATALOG_FOOTER,{locationId:"food-delivery"}))})})]})}),(0,n.jsx)(et.SJ,{})]})}}])&&ot(t.prototype,r),i&&ot(t,i),o}(i.Component);gt.propTypes=vt,gt.defaultProps={isPromotion:!1,vouchersActive:{}};var bt=(0,V.Z)(gt,[(0,c.$j)((function(e){var t=e.address,r=e.checkout,n=e.restaurant,i=e.promotion,a=e.voucherWallet,o=e.router;return{address:t,restaurant:n,isPromotion:(0,Y.XJ)({checkout:r,promotion:i},n.uuid),vouchersActive:(null===a||void 0===a?void 0:a.active)||!1,routerStates:o,merchantCategory:(0,it.n)(n.details.type,n.details.mainCategory.code)}}),(function(e){return{actions:(0,l.DE)(mt,e)}})),(0,u.Z)("restaurant"),s.withRouter])},8071:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(67294),i=r(41266);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=(0,n.useMemo)((function(){return(0,i.Ig)(e)}),[e]);return{tags:t,hasTags:Boolean(t.length)}}},63390:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(54366),i=r(85433);function a(e){var t=(0,n.Z)("groceriesLowStockModel","tagName").field;return(0,i.ge)(e,t)}},1893:function(){},85451:function(){},38054:function(){},55457:function(){},20540:function(){},71295:function(){},22129:function(){},86256:function(){},57543:function(){},92115:function(){},75:function(e,t,r){var n=r(83454);(function(){var t,r,i,a,o,s;"undefined"!==typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!==typeof n&&null!==n&&n.hrtime?(e.exports=function(){return(t()-o)/1e6},r=n.hrtime,a=(t=function(){var e;return 1e9*(e=r())[0]+e[1]})(),s=1e9*n.uptime(),o=a-s):Date.now?(e.exports=function(){return Date.now()-i},i=Date.now()):(e.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)},54087:function(e,t,r){for(var n=r(75),i="undefined"===typeof window?r.g:window,a=["moz","webkit"],o="AnimationFrame",s=i["request"+o],u=i["cancel"+o]||i["cancelRequest"+o],c=0;!s&&c<a.length;c++)s=i[a[c]+"Request"+o],u=i[a[c]+"Cancel"+o]||i[a[c]+"CancelRequest"+o];if(!s||!u){var l=0,d=0,f=[];s=function(e){if(0===f.length){var t=n(),r=Math.max(0,16.666666666666668-(t-l));l=r+t,setTimeout((function(){var e=f.slice(0);f.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(l)}catch(r){setTimeout((function(){throw r}),0)}}),Math.round(r))}return f.push({handle:++d,callback:e,cancelled:!1}),d},u=function(e){for(var t=0;t<f.length;t++)f[t].handle===e&&(f[t].cancelled=!0)}}e.exports=function(e){return s.call(i,e)},e.exports.cancel=function(){u.apply(i,arguments)},e.exports.polyfill=function(e){e||(e=i),e.requestAnimationFrame=s,e.cancelAnimationFrame=u}},18474:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(67294),o=c(a),s=c(r(45697)),u=c(r(54087));function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var f=function(e){function t(){var e,r,n;l(this,t);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=n=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n.events=["resize","scroll","touchstart","touchmove","touchend","pageshow","load"],n.subscribers=[],n.rafHandle=null,n.subscribe=function(e){n.subscribers=n.subscribers.concat(e)},n.unsubscribe=function(e){n.subscribers=n.subscribers.filter((function(t){return t!==e}))},n.notifySubscribers=function(e){if(!n.framePending){var t=e.currentTarget;n.rafHandle=(0,u.default)((function(){n.framePending=!1;var e=n.node.getBoundingClientRect(),r=e.top,i=e.bottom;n.subscribers.forEach((function(e){return e({distanceFromTop:r,distanceFromBottom:i,eventSource:t===window?document.body:n.node})}))})),n.framePending=!0}},n.getParent=function(){return n.node},d(n,r)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"getChildContext",value:function(){return{subscribe:this.subscribe,unsubscribe:this.unsubscribe,getParent:this.getParent}}},{key:"componentDidMount",value:function(){var e=this;this.events.forEach((function(t){return window.addEventListener(t,e.notifySubscribers)}))}},{key:"componentWillUnmount",value:function(){var e=this;this.rafHandle&&(u.default.cancel(this.rafHandle),this.rafHandle=null),this.events.forEach((function(t){return window.removeEventListener(t,e.notifySubscribers)}))}},{key:"render",value:function(){var e=this;return o.default.createElement("div",n({},this.props,{ref:function(t){return e.node=t},onScroll:this.notifySubscribers,onTouchStart:this.notifySubscribers,onTouchMove:this.notifySubscribers,onTouchEnd:this.notifySubscribers}))}}]),t}(a.PureComponent);f.childContextTypes={subscribe:s.default.func,unsubscribe:s.default.func,getParent:s.default.func},t.default=f},78579:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(67294),a=u(i),o=u(r(73935)),s=u(r(45697));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var d=function(e){function t(){var e,r,n;c(this,t);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return r=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),n.state={isSticky:!1,wasSticky:!1,style:{}},n.handleContainerEvent=function(e){var t=e.distanceFromTop,r=e.distanceFromBottom,i=e.eventSource,a=n.context.getParent(),o=!1;n.props.relative&&(o=i!==a,t=-(i.scrollTop+i.offsetTop)+n.placeholder.offsetTop);var s=n.placeholder.getBoundingClientRect(),u=n.content.getBoundingClientRect().height,c=r-n.props.bottomOffset-u,l=!!n.state.isSticky,d=o?l:t<=-n.props.topOffset&&r>-n.props.bottomOffset;r=(n.props.relative?a.scrollHeight-a.scrollTop:r)-u;var f=d?{position:"fixed",top:c>0?n.props.relative?a.offsetTop-a.offsetParent.scrollTop:0:c,left:s.left,width:s.width}:{};n.props.disableHardwareAcceleration||(f.transform="translateZ(0)"),n.setState({isSticky:d,wasSticky:l,distanceFromTop:t,distanceFromBottom:r,calculatedHeight:u,style:f})},l(n,r)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"componentWillMount",value:function(){if(!this.context.subscribe)throw new TypeError("Expected Sticky to be mounted within StickyContainer");this.context.subscribe(this.handleContainerEvent)}},{key:"componentWillUnmount",value:function(){this.context.unsubscribe(this.handleContainerEvent)}},{key:"componentDidUpdate",value:function(){this.placeholder.style.paddingBottom=this.props.disableCompensation?0:(this.state.isSticky?this.state.calculatedHeight:0)+"px"}},{key:"render",value:function(){var e=this,t=a.default.cloneElement(this.props.children({isSticky:this.state.isSticky,wasSticky:this.state.wasSticky,distanceFromTop:this.state.distanceFromTop,distanceFromBottom:this.state.distanceFromBottom,calculatedHeight:this.state.calculatedHeight,style:this.state.style}),{ref:function(t){e.content=o.default.findDOMNode(t)}});return a.default.createElement("div",null,a.default.createElement("div",{ref:function(t){return e.placeholder=t}}),t)}}]),t}(i.Component);d.propTypes={topOffset:s.default.number,bottomOffset:s.default.number,relative:s.default.bool,children:s.default.func.isRequired},d.defaultProps={relative:!1,topOffset:0,bottomOffset:0,disableCompensation:!1,disableHardwareAcceleration:!1},d.contextTypes={subscribe:s.default.func,unsubscribe:s.default.func,getParent:s.default.func},t.default=d},58439:function(e,t,r){"use strict";t.L9=t.Le=void 0;var n=a(r(78579)),i=a(r(18474));function a(e){return e&&e.__esModule?e:{default:e}}t.Le=n.default,t.L9=i.default,n.default},65100:function(e,t,r){"use strict";function n(e){let t=2;const r=[...e].reverse().reduce(((e,r)=>(e+=Number(r)*t,t=9===t?2:t+1,e)),0)%11;return r<2?0:11-r}function i(e){const t=e.toString().replace(/[\.\/\-]/g,"");if(!t||14!==t.length||/^(\d)\1+$/.test(t))return!1;let r=t.substr(0,12);return r+=n(r),r+=n(r),r.substr(-2)===t.substr(-2)}r.d(t,{Gu:function(){return i}})}}]);
//# sourceMappingURL=5046.17d701c73c43a32b.js.map
//# debugId=882f9e1c-f661-5b1f-adde-6310355c1a0c
