
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="527f5c7d-6632-5159-8516-bd66df0d82f5")}catch(e){}}();
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[169,7051],{85539:function(e,t,n){"use strict";var r=n(85893),o=n(67294),i=n(45697),a=n.n(i),s=n(26793),u=n(94184),c=n.n(u),l=n(14416),d=n(40507),f=n(59387),h=n(40059),m=n(42383);n(96630);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e){var t=e.className,n=(0,l.I0)(),i=(0,s.$)("merchant").t,a=(0,o.useCallback)((function(){d.Z.clickOutOfRange(),n((0,h.Ec)({open:!0,keepCurrentPageAfterSelect:!0}))}),[n]),u=(0,l.v9)(m.mg,l.wU),p=!!u,b=(0,l.v9)(m.bk);return(0,r.jsx)("header",{className:"merchant-banner",children:(0,r.jsx)("div",{className:c()("merchant-banner__wrapper",{"merchant-banner__wrapper--has-status":p},t),style:{backgroundImage:"url('".concat(b,"')")},children:p&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.JO,{name:u.icon,className:"merchant-banner__status-icon"}),(0,r.jsxs)("div",{className:"merchant-banner__status-description","data-test-id":"merchant-banner-status-description",children:[(0,r.jsx)("h2",{className:"merchant-banner__status-title",children:i.apply(void 0,v(u.title))}),(0,r.jsx)("h3",{className:"merchant-banner__status-message",children:"OUT_OF_RANGE"===u.status?(0,r.jsx)("button",{className:"merchant-banner__status-message merchant-banner__status-message--has-action",onClick:a,children:i.apply(void 0,v(u.message))}):i.apply(void 0,v(u.message))})]})]})})})}t.Z=b,b.propTypes={className:a().string},b.defaultProps={className:void 0}},45952:function(e,t,n){"use strict";n.d(t,{Z:function(){return se}});var r=n(85893),o=n(67294),i=n(14416),a=n(18967),s=n(52668),u=n(59387),c=n(97896),l=(n(64836),n(99987)),d=n(26793),f=n(45697),h=n.n(f),m=n(94184),p=n.n(m),v=n(12751),b=n(91768),y=n(5152),g=n(67525);n(7680);function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=(0,y.default)((function(){return n.e(9385).then(n.bind(n,89385))}),{loadableGenerated:{webpack:function(){return[89385]}},ssr:!1}),x=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){j(e,t,n[t])}))}return e}({},g.Z),O=function(e){var t=e.t;return(0,r.jsxs)("div",{className:"restaurant-empty-list",children:[(0,r.jsx)("div",{className:"animated-svg",children:(0,r.jsx)(u.JO,{src:(0,r.jsx)(_,{})})}),(0,r.jsx)("span",{className:"restaurant-empty-list__title",tabIndex:"0",children:t("empty-list-title")}),(0,r.jsx)("span",{className:"restaurant-empty-list__description",tabIndex:"0",children:t("empty-list-description")})]})};O.propTypes=x;var k=(0,b.Z)("restaurants")(O),w=n(60106),S=n(22982),N=n(30229),P=n(68877),T=(n(86175),{showTitle:h().bool,isLoading:h().bool,error:h().bool,restaurants:h().array,onErrorRetry:h().func,isFirstPage:h().bool,customEmptyList:h().func,innerRef:h().func,vouchers:h().array,title:h().string,onCardClick:h().func,searchUuid:h().string.isRequired,searchTerm:h().string}),R={showTitle:!0,error:!1,restaurants:[],isLoading:!0,onErrorRetry:void 0,isFirstPage:!0,customEmptyList:void 0,innerRef:void 0,vouchers:[],title:null,onCardClick:null,searchTerm:void 0};function C(e){var t=e.restaurants,n=e.error,o=e.isLoading,i=e.isFirstPage,a=e.onErrorRetry,s=e.customEmptyList,u=e.vouchers,l=e.showTitle,f=e.innerRef,h=e.title,m=e.onCardClick,b=e.searchUuid,y=e.searchTerm,g=(0,d.$)("home").t,j=h||g("restaurants.restaurants-list"),_=Boolean(y);return(0,r.jsxs)("div",{className:"restaurants-list",id:"restaurants-list","data-test-id":"restaurant-list-test-id",ref:f,children:[l&&(0,r.jsx)("div",{className:p()("restaurants-list__header"),children:(0,r.jsx)("h2",{className:"title",tabIndex:"0",children:j})}),function(){if(n)return(0,r.jsx)(w.Z,{onCtaClick:a,ctaLabel:a?g("restaurants.error-cta-label"):void 0});var e=s;if(!t.length&&!o)return(0,r.jsx)("span",{className:"restaurants-list__empty","data-test-id":"restaurants-list__empty",children:s?(0,r.jsx)(e,{}):(0,r.jsx)(k,{})});if(o&&i)return(0,r.jsx)("div",{className:"restaurants-list__container",children:(0,r.jsx)(v.lb,{})});return(0,r.jsxs)("ul",{className:"restaurants-list__container","aria-label":j,children:[t.map((function(e,t){var n=(0,N.RJ)(u,[S.Up,S.O8,S.b2,S.uy],{merchantTags:e.tags,merchantUuid:e.uuid}),o=(0,N.mi)(n,[S.S3,[S.Up,S.O8]]),i=(0,N.xs)(o,S.Ch.CART);return(0,r.jsx)("li",{className:"restaurants-list__item-wrapper",children:(0,r.jsx)(c.Z,{restaurant:e,"data-test-id":"restaurant-item",voucher:i[0],onClick:m||function(){return function(e){var t=e.position,n=e.clickType,r=e.frnUuid,o=e.tab;_&&P.ZP.clickSearch({position:t,clickType:n,searchTerm:y,tab:o,frnUuid:r,contentSearchId:b,carrouselPosition:null,catalogItemId:null})}({frnUuid:e.uuid,clickType:"merchant",position:t,tab:"merchant"})}})},e.uuid)})),!i&&o?(0,r.jsx)(v.lb,{}):null]})}()]})}C.propTypes=T,C.defaultProps=R;n(40643),n(60501);var E=n(36466);n(7609);function I(e){var t=e.children,n=(0,d.$)("shopping-list").t,i=(0,o.useState)(!1),a=i[0],s=i[1],u=(0,o.useCallback)((function(){return s(!0)}),[]),c=(0,o.useCallback)((function(){return s(!1)}),[]);return(0,r.jsxs)("div",{className:"shopping-list-access-point-tooltip",onMouseEnter:u,onMouseLeave:c,children:[t,a&&(0,r.jsxs)("div",{className:"shopping-list-access-point-tooltip__content",children:[(0,r.jsx)("h6",{className:"shopping-list-access-point-tooltip__title",children:n("access-point.tooltip-title")}),(0,r.jsx)("p",{className:"shopping-list-access-point-tooltip__description",children:n("access-point.tooltip-description")})]})]})}n(36855);function M(e){var t=e.onClick,n=(0,d.$)("shopping-list").t;return(0,r.jsx)(I,{children:(0,r.jsx)(u.zx,{icon:"shopping-list",theme:"dark-link",variant:"shopping-list-access-point-button",onClick:t,children:n("access-point.button")})})}var L=n(89121),A=n(77411),Z=n(40507),B=n(82613),D=n(77159),U=(n(96710),n(38770)),Y=function(){var e=(0,d.$)("merchant").t,t=(0,i.I0)(),n=(0,i.v9)(V),a=(0,o.useRef)(!1),s=(0,o.useCallback)((function(){Z.Z.clickMoreInfo(),a.current||(t((0,B.sr)(n,!0)),a.current=!0),D.Z.toggle((0,r.jsx)(U.Z,{},"MERCHANT-DETAILS"))}),[t,n]);return(0,r.jsx)("button",{className:"merchant-details__button",onClick:s,children:e("see-more.button")})},V=function(e){return e.restaurant.uuid};var H=n(82462),$=function(){var e=(0,d.$)("merchant").t,t=(0,i.v9)(q);return t?(0,r.jsxs)("div",{className:"merchant-info__minimum-order","data-test-id":"merchant-info-minimum-order",children:[(0,r.jsx)(u.zP,{max:"tablet",children:"\u2022 "}),(0,r.jsx)(u.zP,{min:"tablet",children:(0,r.jsx)("div",{className:"merchant-info__minimum-order-icon",children:"$"})}),e("minimum-order",{value:(0,H.xG)(t)})]}):null},q=function(e){return e.restaurant.details.minimumOrderValue};var G=n(85518),F=n(5728),z=(n(48531),{restaurant:h().object.isRequired,vouchers:h().array}),K=function(e){var t=e.vouchers,n=e.restaurant,o=(0,d.$)(["restaurant","restaurants"]).t,i=(0,N.B$)(n,t);if(!i)return(0,r.jsx)("div",{"data-test-id":"delivery-discount-with-min-order",children:(0,r.jsx)(F.Z,{accountRestaurantMinOrder:!1,variant:"menu",descriptionOnly:!G.tq})});var a=(0,N.Bb)(i),s=(0,N.k9)(i);return(0,r.jsxs)("div",{className:"voucher-widget__available-voucher","data-test-id":"voucher-widget-available-voucher",children:[(0,r.jsx)(u.JO,{name:"mini-voucher"}),o("voucher:available-restaurant-voucher",{discountValue:(0,H.Nq)(s),minimumOrderValue:(0,H.Nq)(a)})]})};K.propTypes=z,K.defaultProps={vouchers:[]};var W=K,J=function(){var e=(0,i.v9)(Q,i.wU),t=(0,i.v9)(X,i.wU);return(0,r.jsx)("div",{className:"merchant-info__voucher-widget",children:(0,r.jsx)(W,{vouchers:t,restaurant:e})})},Q=function(e){return e.restaurant},X=function(e){return e.voucherWallet.vouchers};n(42026);var ee,te=function(e){return e.restaurant.details.name},ne=function(e){var t;return null===(t=e.restaurant.details.tags)||void 0===t?void 0:t.includes("NEW")},re=function(e){return e.restaurant.details.evaluationAverage},oe=function(e){var t=e.restaurant;return!(0,E.Qw)(t)&&t.details.superRestaurant},ie=function(e){var t,n=e.restaurant;return null!==(ee=null===(t=n.isLoading)||void 0===t?void 0:t.details)&&void 0!==ee&&ee};function ae(e){var t,n,r=null===(n=null===(t=e.restaurant.details.resources)||void 0===t?void 0:t.find((function(e){return"LOGO"===e.type})))||void 0===n?void 0:n.fileName;return(0,a.QW)(s.el.MERCHANT_LOGO,r,s.zf.THUMBNAIL)}function se(e){var t=e.isGrocery,n=e.onShoppingListClick,o=(0,i.v9)(te),a=(0,i.v9)(ae),s=(0,i.v9)(ie),c=(0,i.v9)(ne),d=(0,i.v9)(re),f=(0,i.v9)(oe),h=!s&&(null===a||void 0===a?void 0:a.length)>0,m=(0,L.Z)();return(0,r.jsxs)("header",{className:"merchant-info",children:[(0,r.jsxs)("div",{className:"merchant-info__content-container",children:[s&&(0,r.jsx)("div",{className:"merchant-info__logo"}),h&&(0,r.jsx)("img",{className:"merchant-info__logo",src:a,alt:""}),(0,r.jsxs)("div",{className:"merchant-info__content",children:[(0,r.jsxs)("div",{className:"merchant-info__title-container",children:[(0,r.jsx)("h1",{className:"merchant-info__title",children:o}),f&&(0,r.jsx)(u.Ct,{className:"merchant-info__super-restaurant",icon:"star-super"}),(0,r.jsx)(u.zP,{min:"desktop-s",children:(0,r.jsx)(l.Z,{as:"button",recent:c,evaluationAverage:d})})]}),(0,r.jsxs)("div",{className:"merchant-info__detail-container",children:[(0,r.jsx)(Y,{}),(0,r.jsx)($,{}),(0,r.jsx)(u.zP,{max:"desktop-s",children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{style:{flex:1}}),(0,r.jsx)(l.Z,{as:"button",recent:c,evaluationAverage:d})]})}),t&&m&&(0,r.jsx)(u.zP,{min:"desktop-s",children:(0,r.jsx)(A.Z,{featureName:"SHOPPING-LIST",children:(0,r.jsx)("div",{className:"merchant-info__shopping-list-button",children:(0,r.jsx)(M,{onClick:n})})})})]})]})]}),(0,r.jsx)(J,{})]})}},60501:function(e,t,n){"use strict";n.d(t,{Z:function(){return A}});var r=n(85893),o=n(67294),i=n(45697),a=n.n(i),s=n(14416),u=n(23279),c=n.n(u),l=n(91768),d=n(40507),f=n(59387),h=n(56215),m=n(67926),p=n(67525),v=n(41799),b=n(94184),y=n.n(b),g=n(13629),j={items:a().array.isRequired,currentSection:a().string.isRequired},_=function(e){return"fast-menu-item-".concat(e.replace(" ","-").toLowerCase())};function x(e){var t=e.items,n=e.currentSection,i=(0,o.useRef)();(0,o.useEffect)((function(){i.current=n}));var a=(0,o.useState)(),s=a[0],u=a[1],c=i.current;return(0,o.useEffect)((function(){if(n&&n!==c){var e=document.getElementById(_(n));e&&u(e.offsetLeft-document.body.offsetWidth/2+e.clientWidth/2)}}),[n,c]),(0,r.jsx)("div",{className:"fast-menu-mobile",children:(0,r.jsx)(f.y3,{scrollPosition:s,children:t.map((function(e){return(0,r.jsx)("div",{className:y()("fast-menu-mobile",{"fast-menu-mobile--selected":e.label===n}),id:_(e.label),children:(0,r.jsx)(f.zx,{theme:"link",onClick:e.onClick,tabIndex:"0",children:(0,g.MH)(e.label)})},e.id)}))})})}x.propTypes=j;var O=x;n(18876);function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},P(e)}function T(e,t){return!t||"object"!==E(t)&&"function"!==typeof t?w(e):t}function R(e,t){return R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},R(e,t)}function C(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var E=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function I(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=P(e);if(t){var o=P(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T(this,n)}}var M=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){N(e,t,n[t])}))}return e}({},p.Z,{restaurantMenu:a().array,hasReorderItems:a().bool}),L=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(a,e);var t,n,o,i=I(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var n=(t=i.call(this,e)).getMenuItemsList();return t.state={currentSection:n[0]?n[0].label:"-",doNotDetect:!1},t.setCurrentSection=t.setCurrentSection.bind(w(t)),t.debouncedSetCurrentSection=c()(t.setCurrentSection.bind(w(t)),16),t.getMenuItemsList=t.getMenuItemsList.bind(w(t)),t}return t=a,o=[{key:"scrollToElement",value:function(e){d.Z.clickFilterMenu();var t=document.getElementById((0,h.Z)(e));if(t){t.focus({preventScroll:!0});var n=window.innerWidth<960?100:130;window.scrollBy({top:t.offsetParent.offsetTop-window.scrollY-n,left:0,behavior:"smooth"})}}}],(n=[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.debouncedSetCurrentSection)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if("-"===this.state.currentSection){var t=this.getMenuItemsList(e.restaurantMenu);this.setState({currentSection:t[0]?t[0].label:"-"})}}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.setCurrentSection)}},{key:"handleItemClick",value:function(e){var t=this;a.scrollToElement(e.code),this.setState({currentSection:e.name,doNotDetect:!0},(function(){var e=t;setTimeout((function(){return e.setState({doNotDetect:!1})}),2500),t.setCurrentSection()}))}},{key:"getMenuItemsList",value:function(e){var t=this,n=this.props,r=n.restaurantMenu,o=n.hasReorderItems,i=n.t,a=e||r,s={code:v.dT,name:i("menu-reorder")};return(o?[s].concat(C(a)):a).map((function(e){return{id:(0,h.Z)(e.code),label:e.name,onClick:function(){return t.handleItemClick(e)}}}))}},{key:"setCurrentSection",value:function(){var e=this.state,t=e.currentSection,n=e.doNotDetect,r=this.getMenuItemsList();if(!n&&0!==r.length){var o=r.filter((function(e){var t=document.getElementById(e.id);if(t){var n=t.getBoundingClientRect().top;return n<200&&n>-100}return!1})),i=document.getElementById(r[0].id),a=document.getElementById(r[r.length-1].id),s=i?i.offsetParent.offsetTop-window.scrollY:0,u=a?a.offsetParent.offsetTop-window.scrollY:0,c=t;s>0&&u>0?c=r[0].label:s<0&&u<0?c=r[r.length-1].label:o.length&&(c=o[0].label),t!==c&&this.setState({currentSection:c})}}},{key:"render",value:function(){var e=this.state.currentSection,t=this.getMenuItemsList();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.zP,{min:"desktop-s",allowSSR:!1,children:(0,r.jsx)(f.h_,{label:e,items:t,forceLabel:!0})}),(0,r.jsx)(f.zP,{max:"desktop-s",allowSSR:!1,children:(0,r.jsx)(O,{items:t,currentSection:e})})]})}}])&&S(t.prototype,n),o&&S(t,o),a}(o.Component);L.propTypes=M,L.defaultProps={restaurantMenu:[],hasReorderItems:!1};var A=(0,m.Z)(L,[(0,l.Z)("restaurant"),(0,s.$j)((function(e){var t=e.restaurant,n=t.menu,r=t.reorderItems;return{restaurantMenu:n,hasReorderItems:Boolean(null===r||void 0===r?void 0:r.length)}}))])},64836:function(e,t,n){"use strict";n.d(t,{Z:function(){return C}});var r=n(85893),o=n(67294),i=n(94184),a=n.n(i),s=n(45697),u=n.n(s),c=n(91768),l=n(14416),d=n(14890),f=n(11163),h=n(39368),m=n(21720),p=function(e){var t=(0,m.oc)(e);return t.displayName="withScroll(".concat(e.displayName||e.name||"Component",")"),t},v=n(67525),b=n(67926),y=n(30548),g=n(42383),j=n(63249);n(4684);function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}function k(e,t){return!t||"object"!==S(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function w(e,t){return w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},w(e,t)}var S=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function N(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k(this,n)}}var P={setMarketHintView:y.aR},T=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){x(e,t,n[t])}))}return e}({},v.Z,{scrollPositionY:u().number,title:u().string.isRequired,isLoading:u().bool.isRequired,setDisplaySearch:u().func,displaySearch:u().bool,transparentHeaderYThreshold:u().number}),R=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(s,e);var t,n,o,i=N(s);function s(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(e=i.call(this)).state={transparentHeader:!0,mounted:!1},e}return t=s,n=[{key:"componentDidMount",value:function(){this.setState({mounted:!0})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.setDisplaySearch,r=t.scrollPositionY,o=t.transparentHeaderYThreshold;r<20!==e.scrollPositionY<o&&n(r<o)}},{key:"render",value:function(){var e=this.props,t=e.t,n=e.title,o=e.isLoading,i=e.setDisplaySearch,s=e.displaySearch,u=e.actions,c=e.router,l=e.subHomeActiveRoute,d=this.state,f=d.transparentHeader;if(!d.mounted)return null;var m="true"===c.query.embed;return(0,r.jsx)("div",{className:a()("restaurant-header",{"restaurant-header--transparent":f}),children:(0,r.jsx)(h.$T,{title:f&&!o?"":n,theme:"primary",leftSlot:m&&(0,r.jsx)(r.Fragment,{}),leftAriaLabel:t("header.minimize-aria-label"),defaultRoute:l,rightIcon:f?void 0:"search",onClickRightButton:function(){i(!s),u.setMarketHintView()}})})}}],o=[{key:"getDerivedStateFromProps",value:function(e,t){return e.scrollPositionY<e.transparentHeaderYThreshold!==t.transparentHeader?{transparentHeader:e.scrollPositionY<e.transparentHeaderYThreshold}:null}}],n&&_(t.prototype,n),o&&_(t,o),s}(o.Component);R.propTypes=T,R.defaultProps={scrollPositionY:0,setDisplaySearch:function(){},displaySearch:!0,transparentHeaderYThreshold:20};var C=(0,b.Z)(R,[(0,l.$j)((function(e){return{title:(0,g.Un)(e),isLoading:(0,g.HT)(e),subHomeActiveRoute:(0,j.us)(e)}}),(function(e){return{actions:(0,d.DE)(P,e)}})),p,(0,c.Z)(["restaurant"]),f.withRouter])},40643:function(e,t,n){"use strict";var r=n(85893),o=n(67294),i=n(45697),a=n.n(i),s=n(91768),u=n(67525),c=n(59387);n(30980);function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function m(e,t){return!t||"object"!==v(t)&&"function"!==typeof t?l(e):t}function p(e,t){return p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},p(e,t)}var v=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}var y={onChange:a().func,placeholder:a().string,setVisibility:a().func,restaurantMenuSearchRef:a().func,initialSearchTerm:a().string,searchValue:a().string},g={onChange:function(){},placeholder:"restaurant:menu-search-placeholder",setVisibility:function(){},restaurantMenuSearchRef:function(){},initialSearchTerm:"",searchValue:void 0},j=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(s,e);var t,n,i,a=b(s);function s(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(e=a.call(this)).inputRef=(0,o.createRef)(),e.clearInput=e.clearInput.bind(l(e)),e}return t=s,(n=[{key:"clearInput",value:function(){this.inputRef.current&&(this.inputRef.current.value="",this.props.onChange(""))}},{key:"render",value:function(){var e=this,t=this.props,n=t.onChange,o=t.t,i=t.placeholder,a=t.setVisibility,s=t.initialSearchTerm,u=t.searchValue,l=this.inputRef.current?this.inputRef.current.value:"";return(0,r.jsxs)("div",{className:"restaurant-menu-search",children:[(0,r.jsx)(c.JO,{name:"search"}),(0,r.jsx)("input",{role:"search",className:"restaurant-menu-search__field",placeholder:o(i),onChange:n,ref:this.inputRef,onKeyPress:function(t){"Enter"===t.key&&e.inputRef.current.blur()},onFocus:function(){return a(!0)},onBlur:function(){return a(!1)},defaultValue:s,"data-test-id":"restaurant-menu-search",value:u}),l.length?(0,r.jsx)(c.Ei,{icon:"close",transparent:!0,onClick:this.clearInput,ariaLabel:o("common:clear-field")}):null]})}}])&&d(t.prototype,n),i&&d(t,i),s}(o.Component);j.propTypes=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){f(e,t,n[t])}))}return e}({},u.Z),j.defaultProps=g;var _=(0,s.Z)(["restaurant","filters","common"],{innerRef:function(e){e&&e.props.restaurantMenuSearchRef&&e.props.restaurantMenuSearchRef(e)}})(j);_.propTypes=y,_.defaultProps=g,t.Z=_},27051:function(e,t,n){"use strict";n.r(t),n.d(t,{VoucherHeader:function(){return b},default:function(){return y}});var r=n(85893),o=n(67294),i=n(94184),a=n.n(i),s=n(26793),u=n(17606),c=n(14416),l=n(78645),d=n(22982),f=n(59387),h=n(95452),m=n(30229),p=(n(26142),function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(0,o.useEffect)((function(){if(t)return window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}}),[t,e])});var v=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=(0,o.useState)(!1),r=n[0],i=n[1],a=(0,o.useRef)(null),s=(0,o.useCallback)((function(){a.current&&(clearTimeout(a.current),a.current=null),a.current=setTimeout((function(){return i(!1)}),200),i(!0)}),[]),u=(0,o.useCallback)((function(){e&&e(),s()}),[e,s]);return p(u,t),r};function b(){var e=(0,o.useState)(!1),t=e[0],n=e[1],i=(0,o.useState)(!1),p=i[0],b=i[1],y=(0,s.$)("voucher").t,g=(0,c.v9)((function(e){return e.voucherWallet.vouchers})),j=(0,m.RJ)(g,[d.b2]),_=v(),x=j.length;return(0,o.useEffect)((function(){window.scrollY>40?b(!0):b(!1)}),[_]),j.length?(0,r.jsxs)(f.zP,{min:"desktop-s",children:[t&&(0,r.jsx)(u.ZP,{}),(0,r.jsxs)("header",{className:a()("voucher-header",{"voucher-header--hidden":p}),children:[(0,r.jsxs)("div",{className:"voucher-header-band",children:[(0,r.jsx)(f.JO,{name:"voucher-header"}),(0,r.jsx)(l.Heading2,{variant:"small",fontWeight:400,color:"#fff",paddingX:28,children:y(x>1?"header.title_plural":"header.title_full",{value:x,count:x})}),(0,r.jsx)(f.Ei,{className:"voucher-header__cta",ariaLabel:y(t?"header.cta-up":"header.cta-down"),onClick:function(){return n(!t)},icon:t?"chevron-up":"chevron-down",transparent:!0})]}),(0,r.jsx)("div",{className:a()("voucher-list-container ",{"voucher-list-container--hidden":!t}),children:(0,r.jsx)("div",{className:"voucher-header-container",children:j.map((function(e){return(0,r.jsx)(h.Z,{voucher:e,voucherBlock:e.voucherBlock},e.id)}))})})]}),(0,r.jsx)("div",{className:a()("voucher-header-bg",{"voucher-header-bg--hidden":!t}),onClick:function(){return n(!t)}})]}):null}var y=b},91908:function(e,t,n){"use strict";n.d(t,{Z:function(){return Y}});var r=n(85893),o=n(67294),i=n(14416),a=n(7636),s=n(45881),u=n(91800),c=n(45697),l=n.n(c),d=n(26793),f=n(94184),h=n.n(f),m=n(5152),p=n(59387),v=(n(29693),(0,m.default)((function(){return n.e(4709).then(n.bind(n,54709))}),{loadableGenerated:{webpack:function(){return[54709]}},ssr:!1})),b=(0,m.default)((function(){return n.e(4260).then(n.bind(n,94260))}),{loadableGenerated:{webpack:function(){return[94260]}},ssr:!1}),y={isOpen:l().bool,onConfirm:l().func,onRequestClose:l().func,defaultMethod:l().oneOf(["DELIVERY","TAKEOUT"]),availableMethods:l().array},g={isOpen:!1,onConfirm:function(){},onRequestClose:function(){},defaultMethod:a.d5.DELIVERY,availableMethods:[]},j=function(e){var t=e.isOpen,n=e.onConfirm,i=e.defaultMethod,s=e.onRequestClose,u=e.availableMethods,c=(0,d.$)("delivery-methods").t,l=(0,o.useState)(i),f=l[0],m=l[1];(0,o.useEffect)((function(){i&&m(i)}),[i]);var y=function(e){m(e.target.value)};return(0,r.jsx)(p.u_,{type:"dialog",animation:"bottom",isOpen:t,onRequestClose:s,children:(0,r.jsxs)("div",{className:"delivery-methods-modal",children:[(0,r.jsx)("p",{className:"delivery-methods-modal__title",children:c("methods-modal.title")}),(0,r.jsxs)("label",{className:h()("delivery-methods-modal__option",{"delivery-methods-modal__option--checked":f===a.d5.DELIVERY,"delivery-methods-modal__option--disabled":!u.some((function(e){return e===a.d5.DELIVERY}))}),children:[(0,r.jsx)(v,{}),(0,r.jsxs)("p",{className:"delivery-methods-modal__option-label",children:[(0,r.jsx)("span",{className:"delivery-methods-modal__label-title",children:c("methods-modal.delivery.title")}),(0,r.jsx)("span",{className:"delivery-methods-modal__label-description",children:c("methods-modal.delivery.description")})]}),(0,r.jsx)("input",{checked:f===a.d5.DELIVERY,value:a.d5.DELIVERY,type:"radio",name:"method-option",id:"delivery-option","data-test-id":"delivery-option",className:"delivery-methods-modal__radio",onChange:y,disabled:!u.some((function(e){return e===a.d5.DELIVERY}))})]}),(0,r.jsxs)("label",{className:h()("delivery-methods-modal__option",{"delivery-methods-modal__option--checked":f===a.d5.TAKEOUT,"delivery-methods-modal__option--disabled":!u.some((function(e){return e===a.d5.TAKEOUT}))}),children:[(0,r.jsx)(b,{}),(0,r.jsxs)("p",{className:"delivery-methods-modal__option-label",children:[(0,r.jsx)("span",{className:"delivery-methods-modal__label-title",children:c("methods-modal.takeout.title")}),(0,r.jsx)("span",{className:"delivery-methods-modal__label-description",children:c("methods-modal.takeout.description")})]}),(0,r.jsx)("input",{checked:f===a.d5.TAKEOUT,value:a.d5.TAKEOUT,type:"radio",name:"method-option",id:"takeout-option","data-test-id":"takeout-option",className:"delivery-methods-modal__radio",onChange:y,disabled:!u.some((function(e){return e===a.d5.TAKEOUT}))})]}),(0,r.jsx)(p.zx,{variant:"delivery-methods-modal__confirm-btn",type:"button",onClick:function(){return n(f)},children:c("methods-modal.confirm")})]})})};j.propTypes=y,j.defaultProps=g;var _=j,x=n(41799),O=n(89854),k=n(9818),w=(n(4493),(0,m.default)((function(){return n.e(4600).then(n.bind(n,94600))}),{loadableGenerated:{webpack:function(){return[94600]}},ssr:!1})),S={onClick:l().func,disabled:l().bool};function N(e){var t,n=e.onClick,s=e.disabled,u=(0,d.$)(["delivery-methods","date"]).t,c=(0,i.v9)((function(e){var t;return null===e||void 0===e||null===(t=e.restaurant)||void 0===t?void 0:t.uuid})),l=(0,i.v9)((function(e){return e.restaurant.details})),f=(0,i.v9)((function(e){var n,r,o=e.checkout,i=e.restaurant;return null!==(t=null===(n=o[c])||void 0===n?void 0:n.deliveryMethod)&&void 0!==t?t:null===i||void 0===i||null===(r=i.scheduling)||void 0===r?void 0:r.deliveryMethod})),m=(0,O.$V)(null===l||void 0===l?void 0:l.tags,x.YO),v=(0,k._Y)(f,m),b=v.day,y=v.price,g=v.timeInterval,j=v.isFree,_=j?u("free"):y,S=f&&f.id===a.Ny.EXPRESS,N=(0,o.useMemo)((function(){return u(S?"delivery-methods:scheduling-modal.express-button":b&&"today"===b?"date:today":"date:days-of-week.".concat(b))}),[b,u,S]);return(0,r.jsx)("button",{"data-test-id":"scheduling-button",className:"restaurant-scheduling-button",onClick:n,disabled:s,children:(0,r.jsxs)("div",{className:"restaurant-scheduling-button__grid",children:[(0,r.jsxs)("div",{className:"restaurant-scheduling-button__wrapper",children:[(0,r.jsxs)("span",{className:h()("restaurant-scheduling-button__day",{"restaurant-scheduling-button__day--express":S}),children:[S&&(0,r.jsx)("span",{className:"restaurant-scheduling-button__day--icon",children:(0,r.jsx)(w,{})}),N]}),(0,r.jsxs)("div",{className:"restaurant-scheduling-button__subtitle",children:[(0,r.jsx)("span",{className:"restaurant-scheduling-button__time",children:"".concat(g," \u2022 ")}),(0,r.jsx)("span",{className:h()("restaurant-scheduling-button__price",{"restaurant-scheduling-button__price--free":j}),children:_})]})]}),!s&&(0,r.jsx)(p.JO,{className:"restaurant-scheduling-button__icon",name:"arrow-down"})]})})}N.propTypes=S,N.defaultProps={onClick:function(){},disabled:!1};var P=N,T=n(55393),R=n(44244),C=(n(56163),(0,m.default)((function(){return n.e(4709).then(n.bind(n,54709))}),{loadableGenerated:{webpack:function(){return[54709]}},ssr:!1})),E=(0,m.default)((function(){return n.e(4260).then(n.bind(n,94260))}),{loadableGenerated:{webpack:function(){return[94260]}},ssr:!1}),I=(0,m.default)((function(){return n.e(4242).then(n.bind(n,94242))}),{loadableGenerated:{webpack:function(){return[94242]}},ssr:!1}),M={onClick:l().func.isRequired,isTakeOut:l().bool},L=function(e){var t=e.onClick,n=e.isTakeOut,o=(0,d.$)("delivery-methods").t;return(0,r.jsx)("button",{type:"button",onClick:t,className:"restaurant-delivery-button",children:(0,r.jsxs)("div",{className:"restaurant-delivery-button__grid",children:[n?(0,r.jsx)(E,{className:"restaurant-delivery-button__icon"}):(0,r.jsx)(C,{className:"restaurant-delivery-button__icon"}),n?(0,r.jsx)("span",{children:o("takeout")}):(0,r.jsx)("span",{children:o("delivery")}),(0,r.jsx)(I,{className:"restaurant-delivery-button__arrow-icon"})]})})};L.propTypes=M,L.defaultProps={isTakeOut:!1};var A=L,Z=n(73057),B=n(40577);n(22217);function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){D(e,t,n[t])}))}return e}var Y=function(){var e,t,n=(0,i.v9)((function(e){var t;return null===e||void 0===e||null===(t=e.restaurant)||void 0===t?void 0:t.uuid})),c=(0,i.v9)((function(t){var r,o=t.checkout;return null!==(e=null===(r=o[n])||void 0===r?void 0:r.isTakeOut)&&void 0!==e&&e})),l=(0,o.useState)(!1),d=l[0],f=l[1],h=(0,i.I0)(),m=c?a.d5.TAKEOUT:a.d5.DELIVERY,p=(0,i.v9)((function(e){return e.restaurant.details})),v=(0,i.v9)((function(e){var r,o,i=e.checkout,a=e.restaurant;return null!==(t=null===(r=i[n])||void 0===r?void 0:r.deliveryMethod)&&void 0!==t?t:null===a||void 0===a||null===(o=a.scheduling)||void 0===o?void 0:o.deliveryMethod})),b=(0,o.useState)(!1),y=b[0],g=b[1],j=(0,i.v9)((function(e){return e.restaurant})).deliveryMethods,w=j.map((function(e){return e.mode})),S=j.every((function(e){return e.id===a.d5.TAKEOUT})),N=(0,i.v9)(Z.G5),C=(0,i.v9)(B.Hi),E=Boolean(j.length),I=function(e){var t=function(){var e=null!==v&&void 0!==v?v:{},t=(0,O.$V)(null===p||void 0===p?void 0:p.tags,x.YO);return(0,k._Y)(e,t)}();return e.map((function(e){return U({},e,{isSelected:t.id===e.id&&!t.isSoldOut})}))},M=(0,o.useCallback)((function(e){var t=e.isTimeSlot,r=j.find((function(t){return t.id===e.id})),o=t?(0,R._)({timeSlot:e,deliveryMethods:j}):{deliveryMethod:r};h((0,s.us)(U({},o,{restaurantId:n}))),h((0,u.wd)(null===o||void 0===o?void 0:o.deliveryMethod,n))}),[j,h,n]),L=(0,k.Fv)(j,c).map((function(e){return U({},e,{timeSlots:I(e.timeSlots)})})),D=function(){var e=(0,O.$V)(null===p||void 0===p?void 0:p.tags,x.YO),t=c?(0,k.Ii)(j):(0,k.iX)(j,e);return I(t)}(),Y=function(e){var t;f(!1);var r=e===a.d5.TAKEOUT,o=(0,k.Tu)(j,r),i=Boolean(null===o||void 0===o||null===(t=o.schedule)||void 0===t?void 0:t.selectedTimeSlot);h((0,s.fn)({isTakeOut:r,restaurantId:n})),h((0,s.us)({deliveryMethod:o,restaurantId:n,isRestaurantPage:!0,scheduled:i})),h((0,u.wd)(o,n))};(0,o.useEffect)((function(){j.length&&S&&Y(a.d5.TAKEOUT)}),[j.length,S]);var V=function(){var e=(0,k.m4)(j,c);return Boolean(e.length)}();return(0,r.jsxs)("div",{className:"restaurant-scheduling",children:[(0,r.jsx)(A,{onClick:function(){return f(!0)},isTakeOut:c}),(0,r.jsx)(_,{isOpen:d,onConfirm:Y,defaultMethod:m,onRequestClose:function(){return f(!1)},availableMethods:w}),E&&(0,r.jsx)(P,{onClick:function(){return g(!0)},disabled:!V}),V&&(0,r.jsx)(T.Z,{isOpen:y,onRequestClose:function(){return g(!y)},isTakeOut:c,days:L,deliveryMethods:D,onSelectMethod:M,violations:null===N||void 0===N?void 0:N.violation,accountId:C})]})}},89121:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(14416),o=n(7059);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(5925).Q.reduce((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}({},e,i({},t,(function(e){return(0,o.Z)(t,e.configs)})))}),{}),s=n(54366);function u(){var e=(0,r.v9)(a["SHOPPING-LIST"]),t=(0,s.Z)("groceryShoppingListEnabled").field;return e||t}},69750:function(e,t,n){"use strict";n.d(t,{b1:function(){return i},NJ:function(){return s},vf:function(){return u}});var r=n(68212);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.filter((function(e){var n=(0,r.Bc)(e.description||"").includes((0,r.Bc)(t)),o=(0,r.Bc)(e.details||"").includes((0,r.Bc)(t));return n||o}))},a=function(e,t){return e.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}({},e,{itens:i(e.itens,t)})}))},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.split(" ").filter((function(e){return""!==e}));return n.reduce((function(e,t){return a(e,t)}),e)},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.length?e.filter((function(e){return t.some((function(t){return i([e],t).length}))})):e}},56215:function(e,t){"use strict";t.Z=function(e){return"".concat(e,"-section-id")}},29693:function(){},56163:function(){},4493:function(){},96630:function(){},96710:function(){},42026:function(){},48531:function(){},7680:function(){},18876:function(){},4684:function(){},30980:function(){},86175:function(){},26142:function(){},22217:function(){},36855:function(){},7609:function(){}}]);
//# sourceMappingURL=169.7c0e22b38959a0d6.js.map
//# debugId=527f5c7d-6632-5159-8516-bd66df0d82f5
